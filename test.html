<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OneBill</title>
  <meta name="author" content="Sreeman Reddy">
  <meta name="description" content="Oasis – A digital split expenses with friends easily anywere around the world.">
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: "Geist Mono", monospace;
      background: #000;
      color: white;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 40px;
      flex-wrap: wrap;
    }

    .logo-name {
      font-size: 24px;
      color: #fff;
      font-weight: 300;
    }

    .right-section {
      display: flex;
      align-items: center;
      gap: 20px;
      flex-wrap: nowrap;
    }

    .social-icons {
      display: flex;
      gap: 16px;
    }

    .social-icons img {
      width: 24px;
      height: 24px;
      transition: transform 0.3s, filter 0.3s;
    }

    .social-icons img:hover {
      transform: scale(1.2);
      filter: brightness(1.5);
    }

    .signup-button {
      padding: 7px 24px;
      background: linear-gradient(to right, #48f1b9);
      border: none;
      border-radius: 999px;
      color: black;
      font-size: 16px;
      font-weight: 300;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .signup-button:hover {
      transform: scale(0.97);
      box-shadow: 0 2px 8px rgba(165, 124, 124, 0.3);
    }

    .signup-form {
      display: none;
      flex-direction: column;
      gap: 16px;
      margin: 40px auto;
      max-width: 400px;
      padding: 20px;
      border: 1px solid #e2e1d3;
      border-radius: 16px;
      background-color: rgba(0,0,0,0.2);
    }

    .signup-form input {
      background-color: transparent;
      border: 1px solid #e2e1d3;
      padding: 10px;
      font-size: 16px;
      color: #e2e1d3;
      border-radius: 8px;
    }

    .signup-form input::placeholder {
      color: #e2e1d3;
    }

    @media (max-width: 768px) {
      header {
        flex-direction: column;
        align-items: center;
        gap: 20px;
      }

      .right-section {
        flex-direction: row;
        justify-content: center;
        gap: 16px;
        flex-wrap: wrap;
      }

      .signup-button {
        margin-top: -8px;
      }
    }

    #dashboard {
      margin: 40px;
    }

    .dashboard-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px 40px;
      border: 1px solid #e2e1d3;
      border-radius: 16px;
      background-color: rgba(0, 0, 0, 0.2);
    }

    .dashboard-title {
      font-size: 24px;
      color: #e2e1d3;
      font-weight: 400;
    }

    .dashboard-links a {
      margin-left: 20px;
      text-decoration: none;
      color: #e2e1d3;
      font-size: 16px;
      transition: color 0.3s;
    }

    .dashboard-links a:hover {
      color: #ffffff;
    }

    .create-button {
      margin-top: 20px;
      padding: 7px 24px;
      background: linear-gradient(to right, #48f1b9);
      border: none;
      border-radius: 999px;
      color: white;
      font-size: 16px;
      font-weight: 300;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .create-button:hover {
      transform: scale(0.97);
      box-shadow: 0 2px 8px rgba(156, 190, 227, 0.3);
    }

    .create-group-form {
      display: none;
      flex-direction: column;
      gap: 16px;
      margin: 20px 0;
      max-width: 400px;
      padding: 20px;
      border: 1px solid #e2e1d3;
      border-radius: 16px;
      background-color: rgba(0,0,0,0.2);
    }

    .create-group-form input, .split-form input {
      background-color: transparent;
      border: 1px solid #e2e1d3;
      padding: 10px;
      font-size: 16px;
      color: #e2e1d3;
      border-radius: 8px;
    }

    .create-group-form input::placeholder, .split-form input::placeholder {
      color: #e2e1d3;
    }

    .group-list {
      margin-top: 20px;
    }

    .group-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      border: 1px solid #e2e1d3;
      border-radius: 8px;
      margin-bottom: 10px;
      background-color: rgba(0,0,0,0.1);
    }

    .group-item:hover {
      background-color: rgba(0,0,0,0.3);
    }

    .group-item button {
      padding: 5px 10px;
      background: linear-gradient(to right, #48f1b9);
      border: none;
      border-radius: 999px;
      color: white;
      font-size: 14px;
      cursor: pointer;
    }

    .group-view, .split-view {
      display: none;
      flex-direction: column;
      gap: 16px;
      margin-top: 20px;
    }

    .group-header {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .back-button {
      background: none;
      border: none;
      color: #e2e1d3;
      font-size: 20px;
      cursor: pointer;
    }

    .group-name {
      font-size: 20px;
      color: #e2e1d3;
    }

    .members-list {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .member-item {
      padding: 5px;
      border: 1px solid #e2e1d3;
      border-radius: 4px;
    }

    .split-form {
      display: none;
      flex-direction: column;
      gap: 16px;
      margin-top: 20px;
      max-width: 400px;
      padding: 20px;
      border: 1px solid #e2e1d3;
      border-radius: 16px;
      background-color: rgba(0,0,0,0.2);
    }

    .split-result {
      display: none;
      flex-direction: column;
      gap: 8px;
      margin-top: 20px;
    }

    .split-result p {
      margin: 0;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-name">OneBill</div>
    <div class="right-section">
      <div class="social-icons">
        <a href="https://discord.gg/VYntqjCWGK"><img src="./img/discord.svg" alt="Discord" title="Join us on Discord" /></a>
        <a href="https://instagram.com"><img src="./img/instagram.svg" alt="Instagram" title="Follow us on Instagram" /></a>
      </div>
      <button class="signup-button" id="openFormBtn">Join Now</button>
    </div>
  </header>

  <div class="signup-form" id="signupForm">
    <input type="text" placeholder="Name" required />
    <input type="email" placeholder="Email" required />
    <input type="password" placeholder="Password" required />
    <button type="button" class="signup-button">Submit</button>
  </div>
  
  <div id="dashboard" style="display: none;">
    <div class="dashboard-bar">
      <div class="dashboard-title">OneBill</div>
      <div class="dashboard-links">
        <a href="#" id="homeLink">Home</a>
        <a href="#">History</a>
        <a href="#" id="logoutLink">Logout</a>
      </div>
    </div>
    <button class="create-button" id="createGroupBtn">Create</button>
    <div class="create-group-form" id="createGroupForm">
      <input type="text" id="groupName" placeholder="Group Name" required />
      <input type="text" id="groupMembers" value="Sreeman Reddy, Sameer, Irfan, Loki, Sudarshan" required />
      <button type="button" class="signup-button" id="submitGroupBtn">Create</button>
    </div>
    <div class="group-list" id="groupList"></div>
    <div class="group-view" id="groupView">
      <div class="group-header">
        <button class="back-button" id="backToDashboard">↩</button>
        <div class="group-name" id="groupNameDisplay"></div>
      </div>
      <div class="members-list" id="membersList"></div>
      <button class="signup-button" id="splitBillBtn">Split</button>
      <div class="split-form" id="splitForm">
        <input type="text" id="billDescription" placeholder="Bill Description" required />
        <input type="number" id="billAmount" placeholder="Amount" required />
        <div id="memberCheckboxes"></div>
        <button type="button" class="signup-button" id="submitSplitBtn">Split</button>
      </div>
      <div class="split-result" id="splitResult">
        <button class="signup-button" id="goBackToGroup">Go Back</button>
      </div>
    </div>
  </div>

<script>
  const form = document.getElementById('signupForm');
  const openBtn = document.getElementById('openFormBtn');
  const dashboard = document.getElementById('dashboard');
  const logoutLink = document.getElementById('logoutLink');
  const homeLink = document.getElementById('homeLink');
  const header = document.querySelector('header');
  const submitBtn = form.querySelector('button[type="button"]');
  const createGroupBtn = document.getElementById('createGroupBtn');
  const createGroupForm = document.getElementById('createGroupForm');
  const submitGroupBtn = document.getElementById('submitGroupBtn');
  const groupList = document.getElementById('groupList');
  const groupView = document.getElementById('groupView');
  const groupNameDisplay = document.getElementById('groupNameDisplay');
  const membersList = document.getElementById('membersList');
  const backToDashboard = document.getElementById('backToDashboard');
  const splitBillBtn = document.getElementById('splitBillBtn');
  const splitForm = document.getElementById('splitForm');
  const submitSplitBtn = document.getElementById('submitSplitBtn');
  const splitResult = document.getElementById('splitResult');
  const goBackToGroup = document.getElementById('goBackToGroup');

  let groups = [];
  let currentGroup = null;

  openBtn.addEventListener('click', (e) => {
    e.stopPropagation();
    form.style.display = 'flex';
    dashboard.style.display = 'none';
    header.style.display = 'flex';
  });

  form.addEventListener('click', (e) => e.stopPropagation());

  document.addEventListener('click', () => {
    form.style.display = 'none';
  });

  submitBtn.addEventListener('click', (e) => {
    e.preventDefault();
    form.style.display = 'none';
    dashboard.style.display = 'block';
    header.style.display = 'none';
  });

  if (logoutLink) {
    logoutLink.addEventListener('click', (e) => {
      e.preventDefault();
      dashboard.style.display = 'none';
      form.style.display = 'flex';
      header.style.display = 'flex';
    });
  }

  if (homeLink) {
    homeLink.addEventListener('click', (e) => {
      e.preventDefault();
      dashboard.style.display = 'none';
      form.style.display = 'flex';
      header.style.display = 'flex';
    });
  }

  createGroupBtn.addEventListener('click', () => {
    createGroupForm.style.display = 'flex';
    groupList.style.display = 'none';
    createGroupBtn.style.display = 'none';
  });

  submitGroupBtn.addEventListener('click', () => {
    const groupName = document.getElementById('groupName').value;
    const members = document.getElementById('groupMembers').value.split(',').map(m => m.trim()).filter(m => m);
    
    if (groupName && members.length > 0) {
      const group = { name: groupName, members };
      groups.push(group);
      const groupItem = document.createElement('div');
      groupItem.className = 'group-item';
      const groupNameSpan = document.createElement('span');
      groupNameSpan.textContent = groupName;
      const selectBtn = document.createElement('button');
      selectBtn.textContent = 'Select';
      selectBtn.addEventListener('click', () => {
        currentGroup = group;
        groupNameDisplay.textContent = groupName;
        membersList.innerHTML = '';
        group.members.forEach(member => {
          const memberItem = document.createElement('div');
          memberItem.className = 'member-item';
          memberItem.textContent = member;
          membersList.appendChild(memberItem);
        });
        groupList.style.display = 'none';
        createGroupBtn.style.display = 'none';
        groupView.style.display = 'flex';
        createGroupForm.style.display = 'none';
      });
      groupItem.appendChild(groupNameSpan);
      groupItem.appendChild(selectBtn);
      groupList.appendChild(groupItem);
      createGroupForm.style.display = 'none';
      groupList.style.display = 'block';
      createGroupBtn.style.display = 'block';
      document.getElementById('groupName').value = '';
    }
  });

  backToDashboard.addEventListener('click', () => {
    groupView.style.display = 'none';
    groupList.style.display = 'block';
    createGroupBtn.style.display = 'block';
    splitForm.style.display = 'none';
    splitResult.style.display = 'none';
  });

  splitBillBtn.addEventListener('click', () => {
    splitForm.style.display = 'flex';
    splitBillBtn.style.display = 'none';
    const memberCheckboxes = document.getElementById('memberCheckboxes');
    memberCheckboxes.innerHTML = '';
    currentGroup.members.forEach(member => {
      const label = document.createElement('label');
      label.style.color = '#e2e1d3';
      const checkbox = document.createElement('input');
      checkbox.type = 'checkbox';
      checkbox.value = member;
      checkbox.checked = true;
      label.appendChild(checkbox);
      label.appendChild(document.createTextNode(` ${member}`));
      memberCheckboxes.appendChild(label);
      memberCheckboxes.appendChild(document.createElement('br'));
    });
  });

  submitSplitBtn.addEventListener('click', () => {
    const billDescription = document.getElementById('billDescription').value;
    const billAmount = parseFloat(document.getElementById('billAmount').value);
    const checkboxes = document.querySelectorAll('#memberCheckboxes input:checked');
    const selectedMembers = Array.from(checkboxes).map(cb => cb.value);

    if (billDescription && billAmount > 0 && selectedMembers.length > 0) {
      const splitAmount = billAmount / selectedMembers.length;
      splitResult.innerHTML = '';
      const description = document.createElement('p');
      description.textContent = `Bill: ${billDescription} (Total: $${billAmount})`;
      splitResult.appendChild(description);
      selectedMembers.forEach(member => {
        const p = document.createElement('p');
        p.textContent = `${member} owes $${splitAmount.toFixed(2)}`;
        splitResult.appendChild(p);
      });
      splitResult.appendChild(goBackToGroup);
      splitForm.style.display = 'none';
      splitResult.style.display = 'flex';
      document.getElementById('billDescription').value = '';
      document.getElementById('billAmount').value = '';
    }
  });

  goBackToGroup.addEventListener('click', () => {
    splitResult.style.display = 'none';
    splitBillBtn.style.display = 'block';
  });
</script>
</body>
</html>
